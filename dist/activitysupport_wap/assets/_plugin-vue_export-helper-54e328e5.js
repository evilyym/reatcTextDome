import{a2 as ee,d as X,e as F,f as Q,h as te,aE as ge,G as we,j as b,F as ae,w as B,v as me,x as be,b6 as ye,E as ne,H as xe,I as Se,o as Ce,a as Pe,n as $e,y as w,J as D,z as E,B as V,V as O,p as Z,q as ie,aB as ke,aF as Y,C as N,T as Te,A as _e,S as q,l as Ie,L as H,a9 as p}from"./index-4913de9e.js";const Ae={to:[String,Object],url:String,replace:Boolean};function ze({to:e,url:i,replace:v,$router:s}){e&&s?s[v?"replace":"push"](e):i&&(v?location.replace(i):location.href=i)}function Be(){const e=ee().proxy;return()=>ze(e)}let De=0;function Fe(){const e=ee(),{name:i="unknown"}=(e==null?void 0:e.type)||{};return`${i}-${++De}`}const[le,M]=X("swipe"),Ee={loop:D,width:E,height:E,vertical:Boolean,autoplay:V(0),duration:V(500),touchable:D,lazyRender:Boolean,initialSwipe:V(0),indicatorColor:String,showIndicators:D,stopPropagation:D},oe=Symbol(le);var Le=F({name:le,props:Ee,emits:["change","dragStart","dragEnd"],setup(e,{emit:i,slots:v}){const s=Q(),f=Q(),t=te({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let S=!1;const d=ge(),{children:l,linkChildren:o}=we(oe),n=b(()=>l.length),u=b(()=>t[e.vertical?"height":"width"]),h=b(()=>e.vertical?d.deltaY.value:d.deltaX.value),y=b(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-u.value*n.value:0),T=b(()=>u.value?Math.ceil(Math.abs(y.value)/u.value):n.value),P=b(()=>n.value*u.value),x=b(()=>(t.active+n.value)%n.value),_=b(()=>{const a=e.vertical?"vertical":"horizontal";return d.direction.value===a}),ce=b(()=>{const a={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+t.offset.toFixed(2)}px)`};if(u.value){const r=e.vertical?"height":"width",c=e.vertical?"width":"height";a[r]=`${P.value}px`,a[c]=e[c]?`${e[c]}px`:""}return a}),se=a=>{const{active:r}=t;return a?e.loop?Y(r+a,-1,n.value):Y(r+a,0,T.value):r},W=(a,r=0)=>{let c=a*u.value;e.loop||(c=Math.min(c,-y.value));let m=r-c;return e.loop||(m=Y(m,y.value,0)),m},C=({pace:a=0,offset:r=0,emitChange:c})=>{if(n.value<=1)return;const{active:m}=t,g=se(a),z=W(g,r);if(e.loop){if(l[0]&&z!==y.value){const R=z<y.value;l[0].setOffset(R?P.value:0)}if(l[n.value-1]&&z!==0){const R=z>0;l[n.value-1].setOffset(R?-P.value:0)}}t.active=g,t.offset=z,c&&g!==m&&i("change",x.value)},L=()=>{t.swiping=!0,t.active<=-1?C({pace:n.value}):t.active>=n.value&&C({pace:-n.value})},re=()=>{L(),d.reset(),O(()=>{t.swiping=!1,C({pace:-1,emitChange:!0})})},j=()=>{L(),d.reset(),O(()=>{t.swiping=!1,C({pace:1,emitChange:!0})})};let G;const I=()=>clearTimeout(G),A=()=>{I(),+e.autoplay>0&&n.value>1&&(G=setTimeout(()=>{j(),A()},+e.autoplay))},$=(a=+e.initialSwipe)=>{if(!s.value)return;const r=()=>{var c,m;if(!Z(s)){const g={width:s.value.offsetWidth,height:s.value.offsetHeight};t.rect=g,t.width=+((c=e.width)!=null?c:g.width),t.height=+((m=e.height)!=null?m:g.height)}n.value&&(a=Math.min(n.value-1,a),a===-1&&(a=n.value-1)),t.active=a,t.swiping=!0,t.offset=W(a),l.forEach(g=>{g.setOffset(0)}),A()};Z(s)?ie().then(r):r()},J=()=>$(t.active);let K;const ue=a=>{!e.touchable||a.touches.length>1||(d.start(a),S=!1,K=Date.now(),I(),L())},ve=a=>{e.touchable&&t.swiping&&(d.move(a),_.value&&(!e.loop&&(t.active===0&&h.value>0||t.active===n.value-1&&h.value<0)||(ke(a,e.stopPropagation),C({offset:h.value}),S||(i("dragStart",{index:x.value}),S=!0))))},U=()=>{if(!e.touchable||!t.swiping)return;const a=Date.now()-K,r=h.value/a;if((Math.abs(r)>.25||Math.abs(h.value)>u.value/2)&&_.value){const m=e.vertical?d.offsetY.value:d.offsetX.value;let g=0;e.loop?g=m>0?h.value>0?-1:1:0:g=-Math[h.value>0?"ceil":"floor"](h.value/u.value),C({pace:g,emitChange:!0})}else h.value&&C({pace:0});S=!1,t.swiping=!1,i("dragEnd",{index:x.value}),A()},fe=(a,r={})=>{L(),d.reset(),O(()=>{let c;e.loop&&a===n.value?c=t.active===0?0:a:c=a%n.value,r.immediate?O(()=>{t.swiping=!1}):t.swiping=!1,C({pace:c-t.active,emitChange:!0})})},de=(a,r)=>{const c=r===x.value,m=c?{backgroundColor:e.indicatorColor}:void 0;return w("i",{style:m,class:M("indicator",{active:c})},null)},he=()=>{if(v.indicator)return v.indicator({active:x.value,total:n.value});if(e.showIndicators&&n.value>1)return w("div",{class:M("indicators",{vertical:e.vertical})},[Array(n.value).fill("").map(de)])};return ae({prev:re,next:j,state:t,resize:J,swipeTo:fe}),o({size:u,props:e,count:n,activeIndicator:x}),B(()=>e.initialSwipe,a=>$(+a)),B(n,()=>$(t.active)),B(()=>e.autoplay,A),B([me,be,()=>e.width,()=>e.height],J),B(ye(),a=>{a==="visible"?A():I()}),ne($),xe(()=>$(t.active)),Se(()=>$(t.active)),Ce(I),Pe(I),$e("touchmove",ve,{target:f}),()=>{var a;return w("div",{ref:s,class:M()},[w("div",{ref:f,style:ce.value,class:M("track",{vertical:e.vertical}),onTouchstartPassive:ue,onTouchend:U,onTouchcancel:U},[(a=v.default)==null?void 0:a.call(v)]),he()])}}});const Ne=N(Le),[Oe,Me]=X("swipe-item");var Re=F({name:Oe,setup(e,{slots:i}){let v;const s=te({offset:0,inited:!1,mounted:!1}),{parent:f,index:t}=Te(oe);if(!f)return;const S=b(()=>{const o={},{vertical:n}=f.props;return f.size.value&&(o[n?"height":"width"]=`${f.size.value}px`),s.offset&&(o.transform=`translate${n?"Y":"X"}(${s.offset}px)`),o}),d=b(()=>{const{loop:o,lazyRender:n}=f.props;if(!n||v)return!0;if(!s.mounted)return!1;const u=f.activeIndicator.value,h=f.count.value-1,y=u===0&&o?h:u-1,T=u===h&&o?0:u+1;return v=t.value===u||t.value===y||t.value===T,v}),l=o=>{s.offset=o};return ne(()=>{ie(()=>{s.mounted=!0})}),ae({setOffset:l}),()=>{var o;return w("div",{class:Me(),style:S.value},[d.value?(o=i.default)==null?void 0:o.call(i):null])}}});const We=N(Re),[Ve,k]=X("cell"),Ye={tag:_e("div"),icon:String,size:String,title:E,value:E,label:E,center:Boolean,isLink:Boolean,border:D,iconPrefix:String,valueClass:q,labelClass:q,titleClass:q,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},qe=Ie({},Ye,Ae);var He=F({name:Ve,props:qe,setup(e,{slots:i}){const v=Be(),s=()=>{if(i.label||H(e.label))return w("div",{class:[k("label"),e.labelClass]},[i.label?i.label():e.label])},f=()=>{var l;if(i.title||H(e.title)){const o=(l=i.title)==null?void 0:l.call(i);return Array.isArray(o)&&o.length===0?void 0:w("div",{class:[k("title"),e.titleClass],style:e.titleStyle},[o||w("span",null,[e.title]),s()])}},t=()=>{const l=i.value||i.default;if(l||H(e.value))return w("div",{class:[k("value"),e.valueClass]},[l?l():w("span",null,[e.value])])},S=()=>{if(i.icon)return i.icon();if(e.icon)return w(p,{name:e.icon,class:k("left-icon"),classPrefix:e.iconPrefix},null)},d=()=>{if(i["right-icon"])return i["right-icon"]();if(e.isLink){const l=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return w(p,{name:l,class:k("right-icon")},null)}};return()=>{var l;const{tag:o,size:n,center:u,border:h,isLink:y,required:T}=e,P=(l=e.clickable)!=null?l:y,x={center:u,required:!!T,clickable:P,borderless:!h};return n&&(x[n]=!!n),w(o,{class:k(x),role:P?"button":void 0,tabindex:P?0:void 0,onClick:v},{default:()=>{var _;return[S(),f(),t(),d(),(_=i.extra)==null?void 0:_.call(i)]}})}}});const je=N(He);const Ge=(e,i)=>{const v=e.__vccOpts||e;for(const[s,f]of i)v[s]=f;return v};export{je as C,Ne as S,Ge as _,Ae as a,We as b,Be as c,Ye as d,ze as r,Fe as u};
